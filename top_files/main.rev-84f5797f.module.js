!function(e){function t(t){for(var r,a,i=t[0],o=t[1],s=0,l=[];s<i.length;s++)a=i[s],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&l.push(n[a][0]),n[a]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(c&&c(t);l.length;)l.shift()()}var r={},n={0:0};function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,a){r=n[e]=[t,a]}));t.push(r[2]=i);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+""+({}[e]||e)+".rev-"+{1:"a881fcdd"}[e]+".chunk.module.js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var r=n[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,r[1](c)}n[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/.resources/top/",a.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=o;a(a.s=14)}([function(e,t,r){e.exports=function(){"use strict";var e=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],t=function(e){return String(e).replace(/[&<>"']/g,(function(e){return"&"+r[e]+";"}))},r={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},n="dangerouslySetInnerHTML",a={className:"class",htmlFor:"for"},i={};return function(r,o){var s=[],c="";o=o||{};for(var l=arguments.length;l-- >2;)s.push(arguments[l]);if("function"==typeof r)return o.children=s.reverse(),r(o);if(r){if(c+="<"+r,o)for(var d in o)!1!==o[d]&&null!=o[d]&&d!==n&&(c+=" "+(a[d]?a[d]:t(d))+'="'+t(o[d])+'"');c+=">"}if(-1===e.indexOf(r)){if(o[n])c+=o[n].__html;else for(;s.length;){var u=s.pop();if(u)if(u.pop)for(var h=u.length;h--;)s.push(u[h]);else c+=!0===i[u]?u:t(u)}c+=r?"</"+r+">":""}return i[c]=!0,c}}()},function(e,t,r){"use strict";r.r(t);class n{_parseOptions(){}_track(){}static initElements(){}static init(){this.initElements(document.documentElement)}}var a=e=>(class t extends n{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this._el=e,this._options=this._parseOptions(t),this._timer=null,this._observer=null,this._start()}_parseOptions(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._el.getAttribute("data-rn-inview-track-root")||e.root;return{threshold:this._el.getAttribute("data-rn-inview-track-threshold")||e.threshold||.5,delay:this._el.getAttribute("data-rn-inview-track-delay")||e.delay||1e3,name:this._el.getAttribute("data-rn-inview-track")||e.name||"rnTrack:inview",value:this._el.getAttribute("data-rn-inview-track-value")||e.value||null,valueSelector:this._el.getAttribute("data-rn-inview-track-value-selector")||e.valueSelector||null,root:t?document.documentElement.querySelector(t):null}}_start(){this._observer=setInterval(()=>{this._isInview()?this._onEnter():this._onLeave()},500)}_stop(){clearInterval(this._observer)}_track(){var t={customVars:this._getValue()};e.track("inview","element",this._options.name,t,this._el)}_onEnter(){this._timer||(this._timer=setTimeout(()=>{this._stop(),this._track()},this._options.delay))}_onLeave(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_getRootRect(){if(this._options.root)return this._options.root.getBoundingClientRect();var e=document.documentElement,t=document.body;return{top:0,left:0,right:e.clientWidth||t.clientWidth,width:e.clientWidth||t.clientWidth,bottom:e.clientHeight||t.clientHeight,height:e.clientHeight||t.clientHeight}}_getValue(){var e=JSON.parse(this._options.value)||{};if(!this._options.valueSelector)return e;var t=JSON.parse(this._options.valueSelector);return Object.keys(t).reduce((e,r)=>{var n=t[r],a=(e=>Array.prototype.slice.call(e))(this._el.querySelectorAll("[".concat(n,"]"))).map(e=>e.getAttribute(n)).join(",");return e[r]=a,e},e)}_isInview(){var e=this._el;if("none"===window.getComputedStyle(e).display)return!1;var t=e.getBoundingClientRect();if(0===t.top&&0===t.bottom)return!1;var r=this._getRootRect(),n=Math.max(t.top,r.top),a=Math.min(t.bottom,r.bottom)-n;if(a<=0)return!1;var i=t.bottom-t.top,o=a/(r.bottom-r.top),s=a/i,c=this._options.threshold;return o>=c||s>=c}static initElements(e){e.hasAttribute("data-rn-inview-track")&&(e.inviewTracker=e.inviewTracker||new t(e));var r,n,a=e.querySelectorAll("[".concat("data-rn-inview-track","]"));r=a,n=e=>{e.inviewTracker=e.inviewTracker||new t(e)},Array.prototype.forEach.call(r,n)}}),i=e=>(class t extends n{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this._el=e,this._options=this._parseOptions(t),this._timer=null,this._observer=null,this._el.addEventListener("click",()=>this._track())}_parseOptions(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{threshold:this._el.getAttribute("data-rn-track-threshold")||e.threshold||.5,name:this._el.getAttribute("data-rn-track")||e.name||"rnTrack:zoneClicked",value:this._el.getAttribute("data-rn-track-value")||e.value||null,category:this._el.getAttribute("data-rn-track-category")||this._getCategoryName()}}_getCategoryName(){var e=this._el.nodeName.toLowerCase();return"a"===e?"link":"button"===e?"button":e}_track(){var t={customVars:this._getValue()};e.track("click",this._options.category,this._options.name,t,this._el)}_getValue(){return JSON.parse(this._options.value)||{}}static initElements(e){e.hasAttribute("data-rn-track")&&(e.clickTracker=e.clickTracker||new t(e));var r,n,a=e.querySelectorAll("[".concat("data-rn-track","]"));r=a,n=e=>{e.clickTracker=e.clickTracker||new t(e)},Array.prototype.forEach.call(r,n)}}),o=e=>(class t extends n{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this._el=e,this._options=this._parseOptions(t),this._el.addEventListener("click",()=>this._track())}_parseOptions(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{action:this._el.getAttribute("data-rn-track-ga-action")||e.action||"",category:this._el.getAttribute("data-rn-track-ga-category")||e.category||null,label:this._el.getAttribute("data-rn-track-ga-label")||e.label||null}}_track(){e._track({name:"google-analytics",action:this._options.action,category:this._options.category,label:this._options.label})}static initElements(e){e.hasAttribute("data-rn-track-ga-action")&&(e.gaTracker=e.gaTracker||new t(e));var r,n,a=e.querySelectorAll("[".concat("data-rn-track-ga-action","]"));r=a,n=e=>{e.gaTracker=e.gaTracker||new t(e)},Array.prototype.forEach.call(r,n)}}),s=r(6),c=()=>{var e=e=>{var t=document.cookie.split("; ").find(t=>-1!==t.indexOf(e));if(!t)return null;var r=t.split("=")[1];return r||null},t=e("RNikkeiUserInfo"),r=t?atob(t):null;return r?JSON.parse(r):{sub:e("NID-Serial-Cookie")}},l=e=>{if(!e)return null;var t=e.match(/SSVLV20:1([^\|]*)/);return t?t[1].includes("T1")?t[1].includes("B1")?3:2:1:null},d=e=>{var t=e=>e.match(/\|(DSR[23].?):0([^\|]*)/)?3:2,r=e.match(/\|(DSR[23].?):1([^\|]*)/);return e?r?["DSR3B","DSR3N"].some(e=>e===r[1])?r[2].includes("T1")?22:5:["DSR3","DSR3P"].some(e=>e===r[1])?r[2].includes("T1")?r[2].includes("B1")?23:21:4:["DSR2"].some(e=>e===r[1])?3:t(e):t(e):1},u=e=>{return e?e.match(/GLLV(10|11|20):1([^\|]*)/)?1:e.match(/DSR3B.?:1([^|]*)/)?1:0:0},h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=["level1","level2","level3"].reduce((e,t)=>(e[t]={id:null,name:null},e),{});if(n.level1.name=r,!t)return n;var a=e=>Array.isArray(e)?JSON.stringify(e):e,i=t.level2;if(i){n.level2.id=a(i.id),n.level2.name="".concat(e,"-").concat(i.name);var o=t.level3||{};n.level3.id=o.id?a(o.id):"",n.level3.name=o.name?"".concat(n.level2.name,"-").concat(o.name):n.level2.name}return n},m=e=>{if(!e)return"";var t=e.match(/^(\d{4})(\d{2})(\d{2})/);if(!t||t.length<4)return"";var r=new Date("".concat(t[1],"/").concat(t[2],"/").concat(t[3]));return isNaN(r)?"":r.toISOString()},g=()=>{var e=document.documentElement.dataset,t={app:e.serviceName,contentId:e.articleId||null,contentName:-1===location.href.indexOf("/article/")?"":document.title.replace(/:\s*日本経済新聞$/,""),pageName:e.serviceName,pageNumber:1},r=(()=>{var e=document.querySelector('meta[name="x-rn-track-vars"]');if(!e)return{};var t=e.getAttribute("content");return t?JSON.parse(t):{}})(),n=r.config?r.config:s,a={category:h(n.prefix,r.category,n.channel),printEditionDate:m(r.printEditionDate)},i=Object.assign({},r,a);return Object.assign({},t,i)},p=()=>{var e={pageUrl:location.href,pageReferrer:document.referrer,pageTitle:document.title,trackReadTarget:null,trackViewabilityTargets:document.querySelectorAll("[data-nui-ad]")},t=g(),r=(()=>{var e=c(),t={userId:e.sub?e.sub:""},r=e&&e.nk_opt?e.nk_opt:"",n=l(r);return t.userPermission=n?n.toString():"",t.userRank=d(r).toString(),t.groupLicense=u(r).toString(),t})(),n={flags:window.rnFlags,pwa:{A2HS:window.matchMedia("(display-mode: standalone)").matches}};return Object.assign({},e,t,r,n)},v=()=>{var e=document.createElement("iframe");e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("scrolling","no"),e.setAttribute("frameborder","0"),e.setAttribute("hidden","");return e.src="/.resources/tracking/static/sender.rev-42d8fb.html",e},f=(e,t,r,n)=>{return{name:"rnikkei-tracking",action:e||"click",category:t,events:(Array.isArray(r)?r:[r]).join(","),updateContext:n.updateContext,options:{location:n.location||window.location.href,destination:n.destination||"",name:n.name||"",action_name:n.actionName||"",content_id:n.contentId||"",content_name:n.contentName||"",custom_vars:n.customVars||{}}}},b=[],k=!1,y=()=>{k&&b.length>0&&(b.shift()(),y())},w=e=>{b.push(e),y()},_=e=>{k=e,y()},E=(e,t)=>{new MutationObserver(r=>{r.forEach(r=>{((e,t)=>Array.prototype.forEach.call(e,t))(r.addedNodes,r=>{r.nodeType===Node.ELEMENT_NODE&&t.forEach(t=>{t(e).initElements(r)})})})}).observe(document.body,{childList:!0,subtree:!0})},S={iframe:null,beforeInitStack:[],beforeTrackStack:[],initialData:{},init(){S.beforeInitStack.forEach(e=>e());var e=Object.assign({},p(),S.initialData);window.rnTrackVars=e,S.iframe=v(),S.iframe.addEventListener("load",()=>{_(!0)}),document.body.appendChild(S.iframe);var t=[a,i,o];t.forEach(e=>{e(S).init()}),E(S,t)},setBeforeInit(e){S.beforeInitStack.push(e)},setBeforeTrack(e){S.beforeTrackStack.push(e)},initZoneTrack(){console.warn("This method is deprecated.")},setInitialData(e){S.initialData=Object.assign({},S.initialData,e)},_waitUntilMessageProcessed:e=>new Promise((t,r)=>{var n=setTimeout(()=>{r("Tracking message is not processed in ".concat(5e3,"ms: ").concat(JSON.stringify(e)))},5e3),a=r=>{var i=r.data,o=i&&i.name&&"rnikkei-tracking-processed"===i.name,s=i&&i.id&&i.id===e.id;o&&s&&(window.clearTimeout(n),window.removeEventListener("message",a),t())};window.addEventListener("message",a)}),_track(e){var t=Object.assign({},e,{id:"".concat(Date.now()+Math.random())}),r="".concat(location.protocol,"//").concat(location.hostname,":").concat(location.port),n=S._waitUntilMessageProcessed(t);return w(()=>{S.iframe.contentWindow.postMessage(t,r)}),n},track(e,t,r,n,a){var i=f(e,t,r,n);return S.beforeTrackStack.forEach(e=>{i=e(i,a)}),S._track(i)},trackWithHugeValue(e,t,r,n){var a=f(e,t,r,n);return S._track(Object.assign({},a,{huge:!0}))},sendPV:()=>S._track({name:"rnikkei-tracking-pv"}),liftigniter:{call:()=>{console.warn("This method is deprecated.")}}},T={init:S.init,setBeforeInit:S.setBeforeInit,setBeforeTrack:S.setBeforeTrack,setInitialData:S.setInitialData,track:S.track,trackWithHugeValue:S.trackWithHugeValue,sendPV:S.sendPV,InviewTracker:a(S),liftigniter:S.liftigniter};t.default=T},function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"lazySizes",(function(){return n}));var n=function(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"kiteLazyImageConfig";t="undefined"!=typeof window?window:{},r=function(e,t){var r,a;if(function(){var t,r={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in a=e[n]||e[n]||{},r)t in a||(a[t]=r[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:a,noSupport:!0};var i=t.documentElement,o=e.Date,s=e.HTMLPictureElement,c="addEventListener",l="getAttribute",d=e[c],u=e.setTimeout,h=e.requestAnimationFrame||u,m=e.requestIdleCallback,g=/^picture$/i,p=["load","error","lazyincluded","_lazyloaded"],v={},f=Array.prototype.forEach,b=function(e,t){return v[t]||(v[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),v[t].test(e[l]("class")||"")&&v[t]},k=function(e,t){b(e,t)||e.setAttribute("class",(e[l]("class")||"").trim()+" "+t)},y=function(e,t){var r;(r=b(e,t))&&e.setAttribute("class",(e[l]("class")||"").replace(r," "))},w=function e(t,r,n){var a=n?c:"removeEventListener";n&&e(t,r),p.forEach((function(e){t[a](e,r)}))},_=function(e,n,a,i,o){var s=t.createEvent("Event");return a||(a={}),a.instance=r,s.initEvent(n,!i,!o),s.detail=a,e.dispatchEvent(s),s},E=function(t,r){var n;!s&&(n=e.picturefill||a.pf)?(r&&r.src&&!t[l]("srcset")&&t.setAttribute("srcset",r.src),n({reevaluate:!0,elements:[t]})):r&&r.src&&(t.src=r.src)},S=function(e,t){return(getComputedStyle(e,null)||{})[t]},T=function(e,t,r){for(r=r||e.offsetWidth;r<a.minSize&&t&&!e._lazysizesWidth;)r=t.offsetWidth,t=t.parentNode;return r},A=function(){var e,r,n=[],a=[],i=n,o=function(){var t=i;for(i=n.length?a:n,e=!0,r=!1;t.length;)t.shift()();e=!1},s=function(n,a){e&&!a?n.apply(this,arguments):(i.push(n),r||(r=!0,(t.hidden?u:h)(o)))};return s._lsFlush=o,s}(),O=function(e,t){return t?function(){A(e)}:function(){var t=this,r=arguments;A((function(){e.apply(t,r)}))}},x=function(e){var t,r=0,n=a.throttleDelay,i=a.ricTimeout,s=function(){t=!1,r=o.now(),e()},c=m&&i>49?function(){m(s,{timeout:i}),i!==a.ricTimeout&&(i=a.ricTimeout)}:O((function(){u(s)}),!0);return function(e){var a;(e=!0===e)&&(i=33),t||(t=!0,(a=n-(o.now()-r))<0&&(a=0),e||a<9?c():u(c,a))}},L=function(e){var t,r,n=function(){t=null,e()},a=function e(){var t=o.now()-r;t<99?u(e,99-t):(m||n)(n)};return function(){r=o.now(),t||(t=u(a,99))}},M=function(){var n,s,h,m,p,v,T,M,I,N,P,j,D=/^img$/i,z=/^iframe$/i,R="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),q=0,H=0,B=-1,W=function(e){H--,(!e||H<0||!e.target)&&(H=0)},F=function(e){return null==j&&(j="hidden"==S(t.body,"visibility")),j||!("hidden"==S(e.parentNode,"visibility")&&"hidden"==S(e,"visibility"))},V=function(e,r){var n,a=e,o=F(e);for(M-=r,P+=r,I-=r,N+=r;o&&(a=a.offsetParent)&&a!=t.body&&a!=i;)(o=(S(a,"opacity")||1)>0)&&"visible"!=S(a,"overflow")&&(n=a.getBoundingClientRect(),o=N>n.left&&I<n.right&&P>n.top-1&&M<n.bottom+1);return o},J=function(){var e,o,c,d,u,h,g,p,f,b,k,y,w=r.elements;if((m=a.loadMode)&&H<8&&(e=w.length)){for(o=0,B++;o<e;o++)if(w[o]&&!w[o]._lazyRace)if(!R||r.prematureUnveil&&r.prematureUnveil(w[o]))Z(w[o]);else if((p=w[o][l]("data-expand"))&&(h=1*p)||(h=q),b||(b=!a.expand||a.expand<1?i.clientHeight>500&&i.clientWidth>500?500:370:a.expand,r._defEx=b,k=b*a.expFactor,y=a.hFac,j=null,q<k&&H<1&&B>2&&m>2&&!t.hidden?(q=k,B=0):q=m>1&&B>1&&H<6?b:0),f!==h&&(v=innerWidth+h*y,T=innerHeight+h,g=-1*h,f=h),c=w[o].getBoundingClientRect(),(P=c.bottom)>=g&&(M=c.top)<=T&&(N=c.right)>=g*y&&(I=c.left)<=v&&(P||N||I||M)&&(a.loadHidden||F(w[o]))&&(s&&H<3&&!p&&(m<3||B<4)||V(w[o],h))){if(Z(w[o]),u=!0,H>9)break}else!u&&s&&!d&&H<4&&B<4&&m>2&&(n[0]||a.preloadAfterLoad)&&(n[0]||!p&&(P||N||I||M||"auto"!=w[o][l](a.sizesAttr)))&&(d=n[0]||w[o]);d&&!u&&Z(d)}},U=x(J),K=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(W(e),k(t,a.loadedClass),y(t,a.loadingClass),w(t,$),_(t,"lazyloaded"))},Y=O(K),$=function(e){Y({target:e.target})},G=function(e){var t,r=e[l](a.srcsetAttr);(t=a.customMedia[e[l]("data-media")||e[l]("media")])&&e.setAttribute("media",t),r&&e.setAttribute("srcset",r)},X=O((function(e,t,r,n,i){var o,s,c,d,m,p;(m=_(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(r?k(e,a.autosizesClass):e.setAttribute("sizes",n)),s=e[l](a.srcsetAttr),o=e[l](a.srcAttr),i&&(d=(c=e.parentNode)&&g.test(c.nodeName||"")),p=t.firesLoad||"src"in e&&(s||o||d),m={target:e},k(e,a.loadingClass),p&&(clearTimeout(h),h=u(W,2500),w(e,$,!0)),d&&f.call(c.getElementsByTagName("source"),G),s?e.setAttribute("srcset",s):o&&!d&&(z.test(e.nodeName)?function(e,t){try{e.contentWindow.location.replace(t)}catch(r){e.src=t}}(e,o):e.src=o),i&&(s||d)&&E(e,{src:o})),e._lazyRace&&delete e._lazyRace,y(e,a.lazyClass),A((function(){var t=e.complete&&e.naturalWidth>1;p&&!t||(t&&k(e,"ls-is-cached"),K(m),e._lazyCache=!0,u((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&H--}),!0)})),Z=function(e){if(!e._lazyRace){var t,r=D.test(e.nodeName),n=r&&(e[l](a.sizesAttr)||e[l]("sizes")),i="auto"==n;(!i&&s||!r||!e[l]("src")&&!e.srcset||e.complete||b(e,a.errorClass)||!b(e,a.lazyClass))&&(t=_(e,"lazyunveilread").detail,i&&C.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,H++,X(e,t,i,n,r))}},Q=L((function(){a.loadMode=3,U()})),ee=function(){3==a.loadMode&&(a.loadMode=2),Q()},te=function e(){if(!s){if(o.now()-p<999)return void u(e,999);s=!0,a.loadMode=3,U(),d("scroll",ee,!0)}};return{_:function(){p=o.now(),r.elements=t.getElementsByClassName(a.lazyClass),n=t.getElementsByClassName(a.lazyClass+" "+a.preloadClass),d("scroll",U,!0),d("resize",U,!0),e.MutationObserver?new MutationObserver(U).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[c]("DOMNodeInserted",U,!0),i[c]("DOMAttrModified",U,!0),setInterval(U,999)),d("hashchange",U,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t[c](e,U,!0)})),/d$|^c/.test(t.readyState)?te():(d("load",te),t[c]("DOMContentLoaded",U),u(te,2e4)),r.elements.length?(J(),A._lsFlush()):U()},checkElems:U,unveil:Z,_aLSL:ee}}(),C=function(){var e,r=O((function(e,t,r,n){var a,i,o;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),g.test(t.nodeName||""))for(i=0,o=(a=t.getElementsByTagName("source")).length;i<o;i++)a[i].setAttribute("sizes",n);r.detail.dataAttr||E(e,r.detail)})),n=function(e,t,n){var a,i=e.parentNode;i&&(n=T(e,i,n),a=_(e,"lazybeforesizes",{width:n,dataAttr:!!t}),a.defaultPrevented||(n=a.detail.width)&&n!==e._lazysizesWidth&&r(e,i,a,n))},i=L((function(){var t,r=e.length;if(r)for(t=0;t<r;t++)n(e[t])}));return{_:function(){e=t.getElementsByClassName(a.autosizesClass),d("resize",i)},checkElems:i,updateElem:n}}(),I=function e(){!e.i&&t.getElementsByClassName&&(e.i=!0,C._(),M._())};return u((function(){a.init&&I()})),r={cfg:a,autoSizer:C,loader:M,init:I,uP:E,aC:k,rC:y,hC:b,fire:_,gW:T,rAF:A}}(t,t.document),t.lazySizes=r,e.exports&&(e.exports=r)}}.call(this,r(4)(e))},function(e){e.exports=JSON.parse('{"footer/assets/logo-aria.png":"footer/assets/logo-aria.rev-7a5f57.png","footer/assets/logo-bizgate.png":"footer/assets/logo-bizgate.rev-4fa348.png","footer/assets/logo-business-school.png":"footer/assets/logo-business-school.rev-946015.png","footer/assets/logo-business.png":"footer/assets/logo-business.rev-995a64.png","footer/assets/logo-channel-markets.png":"footer/assets/logo-channel-markets.rev-629962.png","footer/assets/logo-cn.png":"footer/assets/logo-cn.rev-78cce6.png","footer/assets/logo-doors.png":"footer/assets/logo-doors.rev-6eb80b.png","footer/assets/logo-dual.png":"footer/assets/logo-dual.rev-6f2bb6.png","footer/assets/logo-event-seminar.png":"footer/assets/logo-event-seminar.rev-35fec3.png","footer/assets/logo-ft.png":"footer/assets/logo-ft.rev-0e2b84.png","footer/assets/logo-gooday.png":"footer/assets/logo-gooday.rev-2715aa.png","footer/assets/logo-nar.png":"footer/assets/logo-nar.rev-9f0872.png","footer/assets/logo-natgeo.png":"footer/assets/logo-natgeo.rev-1d9d90.png","footer/assets/logo-nikkei.png":"footer/assets/logo-nikkei.rev-79f0d9.png","footer/assets/logo-paravi.png":"footer/assets/logo-paravi.rev-1b2bca.png","footer/assets/logo-plus-10.png":"footer/assets/logo-plus-10.rev-c533e0.png","footer/assets/logo-smart-work.png":"footer/assets/logo-smart-work.rev-7db3f4.png","footer/assets/logo-style.png":"footer/assets/logo-style.rev-23d216.png","footer/assets/logo-test.png":"footer/assets/logo-test.rev-f03cc8.png","footer/assets/logo-womanomics.png":"footer/assets/logo-womanomics.rev-4ebed1.png","footer/assets/logo-xtech.png":"footer/assets/logo-xtech.rev-584f4b.png","footer/assets/logo-xtrend.png":"footer/assets/logo-xtrend.rev-fedb2f.png","header/assets/masthead-pro.png":"header/assets/masthead-pro.rev-f96c26.png","header/assets/masthead.png":"header/assets/masthead.rev-b8cf30.png","rtoaster/assets/rtoaster-view.html":"rtoaster/assets/rtoaster-view.rev-d03184.html"}')},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return n}));var n=()=>{!function(t,n){var a=function e(){n(t.lazySizes),t.removeEventListener("lazyunveilread",e,!0)};n=n.bind(null,t,t.document),e.exports?n(r(2)):t.lazySizes?a():t.addEventListener("lazyunveilread",a,!0)}(window,(function(e,t,r){function n(e,r){if(!o[e]){var n=t.createElement(r?"link":"script"),a=t.getElementsByTagName("script")[0];r?(n.rel="stylesheet",n.href=e):n.src=e,o[e]=!0,o[n.src||n.href]=!0,a.parentNode.insertBefore(n,a)}}var a,i,o={};t.addEventListener&&(i=/\(|\)|\s|'/,a=function(e,r){var n=t.createElement("img");n.onload=function(){n.onload=null,n.onerror=null,n=null,r()},n.onerror=n.onload,n.src=e,n&&n.complete&&n.onload&&n.onload()},addEventListener("lazybeforeunveil",(function(e){var t,o,s;if(e.detail.instance==r&&!e.defaultPrevented){var c=e.target;if("none"==c.preload&&(c.preload=c.getAttribute("data-preload")||"auto"),null!=c.getAttribute("data-autoplay"))if(c.getAttribute("data-expand")&&!c.autoplay)try{c.play()}catch(e){}else requestAnimationFrame((function(){c.setAttribute("data-expand","-10"),r.aC(c,r.cfg.lazyClass)}));(t=c.getAttribute("data-link"))&&n(t,!0),(t=c.getAttribute("data-script"))&&n(t),(t=c.getAttribute("data-require"))&&(r.cfg.requireJs?r.cfg.requireJs([t]):n(t)),(o=c.getAttribute("data-bg"))&&(e.detail.firesLoad=!0,a(o,(function(){c.style.backgroundImage="url("+(i.test(o)?JSON.stringify(o):o)+")",e.detail.firesLoad=!1,r.fire(c,"_lazyloaded",{},!0,!0)}))),(s=c.getAttribute("data-poster"))&&(e.detail.firesLoad=!0,a(s,(function(){c.poster=s,e.detail.firesLoad=!1,r.fire(c,"_lazyloaded",{},!0,!0)})))}}),!1))}))}}).call(this,r(4)(e))},function(e){e.exports=JSON.parse('{"channel":"RNikkei","prefix":"DS"}')},function(e,t,r){(function(t){var r=(e,t)=>{var r=Object.keys(t).filter(e=>void 0!==t[e]).map(e=>"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))).join("&");return r?e.includes("?")?"".concat(e,"&").concat(r):"".concat(e,"?").concat(r):e},n=e=>e.ok?e.json():(e=>{var t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json().then(t=>Object.assign({},t,{status:e.status,statusText:e.statusText})).then(e=>{throw e}):e.text().then(t=>{throw new Error("".concat(t," (").concat(e.status,": ").concat(e.statusText,")"))})})(e);e.exports=e=>{var a=(r,n)=>{var a=((e,r)=>{var n="object"==typeof t&&t.env&&t.env.TUNNELING_TOKEN_DEV;if(!n)return r;if(!e.match(new RegExp("^https?://next[^.]+.nikkei.com")))return r;var a=r.headers||{};return a["Nikkei-Tunneling-Token-Dev"]=n,Object.assign({},r,{headers:a})})(r,n);return e(r,a)},i=(e,t,r,i)=>{var o=Object.assign({},i,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return a(t,o).then(n)};return{get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(r(e,t),Object.assign(i,{body:void 0})).then(n)},post:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i("POST",e,t,r)},put:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i("PUT",e,t,r)},delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign({},i,{method:"DELETE"});return a(r(e,t),o).then(n)},patch:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i("PATCH",e,t,r)}}}}).call(this,r(12))},function(e,t,r){"use strict";
/**
 * @preserve Create and manage a DOM event delegator.
 *
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */var n=r(13);e.exports=function(e){return new n(e)},e.exports.Delegate=n},function(e,t){e.exports={flatten:e=>Array.prototype.concat.apply([],e),range:(e,t)=>Array.from(Array(t).keys()).slice(e,t),compact:e=>e.filter(e=>e),unique:e=>{return[...new Set(e)]}}},,function(e,t,r){},function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var c,l=[],d=!1,u=-1;function h(){d&&c&&(d=!1,c.length?l=c.concat(l):u=-1,l.length&&m())}function m(){if(!d){var e=s(h);d=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new g(e,t)),1!==l.length||d||s(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";function n(e){this.listenerMap=[{},{}],e&&this.root(e),this.handle=n.prototype.handle.bind(this)}e.exports=n,n.prototype.root=function(e){var t,r=this.listenerMap;if(this.rootElement){for(t in r[1])r[1].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!0);for(t in r[0])r[0].hasOwnProperty(t)&&this.rootElement.removeEventListener(t,this.handle,!1)}if(!e||!e.addEventListener)return this.rootElement&&delete this.rootElement,this;for(t in this.rootElement=e,r[1])r[1].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!0);for(t in r[0])r[0].hasOwnProperty(t)&&this.rootElement.addEventListener(t,this.handle,!1);return this},n.prototype.captureForType=function(e){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(e)},n.prototype.on=function(e,t,r,n){var c,l,d,u;if(!e)throw new TypeError("Invalid event type: "+e);if("function"==typeof t&&(n=r,r=t,t=null),void 0===n&&(n=this.captureForType(e)),"function"!=typeof r)throw new TypeError("Handler must be a type of Function");return c=this.rootElement,(l=this.listenerMap[n?1:0])[e]||(c&&c.addEventListener(e,this.handle,n),l[e]=[]),t?/^[a-z]+$/i.test(t)?(u=t,d=i):/^#[a-z0-9\-_]+$/i.test(t)?(u=t.slice(1),d=s):(u=t,d=a):(u=null,d=o.bind(this)),l[e].push({selector:t,handler:r,matcher:d,matcherParam:u}),this},n.prototype.off=function(e,t,r,n){var a,i,o,s,c;if("function"==typeof t&&(n=r,r=t,t=null),void 0===n)return this.off(e,t,r,!0),this.off(e,t,r,!1),this;if(o=this.listenerMap[n?1:0],!e){for(c in o)o.hasOwnProperty(c)&&this.off(c,t,r);return this}if(!(s=o[e])||!s.length)return this;for(a=s.length-1;a>=0;a--)i=s[a],t&&t!==i.selector||r&&r!==i.handler||s.splice(a,1);return s.length||(delete o[e],this.rootElement&&this.rootElement.removeEventListener(e,this.handle,n)),this},n.prototype.handle=function(e){var t,r,n,a,i,o,s=e.type,c=[];if(!0!==e.ftLabsDelegateIgnore){switch(3===(o=e.target).nodeType&&(o=o.parentNode),n=this.rootElement,e.eventPhase||(e.target!==e.currentTarget?3:2)){case 1:c=this.listenerMap[1][s];break;case 2:this.listenerMap[0]&&this.listenerMap[0][s]&&(c=c.concat(this.listenerMap[0][s])),this.listenerMap[1]&&this.listenerMap[1][s]&&(c=c.concat(this.listenerMap[1][s]));break;case 3:c=this.listenerMap[0][s]}for(r=c.length;o&&r;){for(t=0;t<r&&(a=c[t]);t++)if(a.matcher.call(o,a.matcherParam,o)&&(i=this.fire(e,o,a)),!1===i)return e.ftLabsDelegateIgnore=!0,void e.preventDefault();if(o===n)break;r=c.length,o=o.parentElement}}},n.prototype.fire=function(e,t,r){return r.handler.call(t,e,t)};var a=function(e){if(e){var t=e.prototype;return t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector}}(Element);function i(e,t){return e.toLowerCase()===t.tagName.toLowerCase()}function o(e,t){return this.rootElement===window?t===document:this.rootElement===t}function s(e,t){return e===t.id}n.prototype.destroy=function(){this.off(),this.root()}},function(e,t,r){"use strict";r.r(t);r(11);var n=r(7),a=r.n(n)()((function(){return window.fetch(...arguments)})),i=e=>{var t=new Date,r={segmentIds:e,expired:t.setDate(t.getDate()+90)};localStorage.setItem("nikkei-segment-ids",JSON.stringify(r))},o=()=>{var e=(()=>{var e=localStorage.getItem("nikkei-segment-ids");return"string"==typeof e?JSON.parse(e):null})();if(e)if(e.expired<Date.now())localStorage.removeItem("nikkei-segment-ids");else{var t=document.documentElement.querySelector('[name="x-f1h-custom-value"]');if(t){var r=JSON.parse(t.getAttribute("content"));r.NSEG=e.segmentIds,t.setAttribute("content",JSON.stringify(r))}}},s=()=>{var e=(()=>{var e=(document.cookie.split("; ")||[]).find(e=>-1!==e.indexOf("NID-Serial-Cookie"));return e?e.split("=")[1]:null})();return e?(e=>a.get("https://apigw.n8s.jp/ads/v1/segments?user_serial_id=".concat(e)).then(e=>e.segment_ids))(e).then(i):Promise.reject("[segment] Serial cookie is not found.")},c=e=>{throw new Error("Failed to load script. ".concat(e?e.target.src:""))},l=(e,t)=>{var r=document.querySelector('script[src*="'.concat(e,'"]'));r?r.getAttribute("data-loaded")?t():r.getAttribute("data-error")?c():(r.addEventListener("load",t),r.addEventListener("error",c)):(console.info("Script tag for ".concat(e," was not found. Waiting for loading all scripts...")),window.addEventListener("rnikkeiScriptsLoaded",t))},d=e=>l("polyfill.min.js",e),u=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("serviceWorker"in navigator){var n=new Promise(e=>{navigator.serviceWorker.addEventListener("controllerchange",e)});return navigator.serviceWorker.register(e,{scope:t}).then(()=>(console.log("".concat(e,' is installed to "').concat(t,'".')),!r||navigator.serviceWorker.controller?null:n))}return Promise.reject("Service Worker is not supported.")},h="v1",m="/push",g="data-pushnotification-status";class p{constructor(e){this.target=e.querySelector("[".concat(g,"]")),this.target&&(this.button=this.target.querySelector("[data-pushnotification-button]"),this.button.addEventListener("click",e=>this.toggleStatus(e),!1))}isSupported(){return this.target?"serviceWorker"in navigator&&"undefined"!=typeof PushManager:(console.warn("subscription state was not found."),!1)}register(){return u("/push-worker.js",m,!1).then(()=>(this.target.setAttribute(g,"enable"),navigator.serviceWorker.getRegistration(m))).then(e=>e.pushManager.getSubscription()).then(e=>{e?this.target.setAttribute(g,"subscribed"):this.target.setAttribute(g,"unsubscribed")}).then(()=>{this.updateButtonText()})}_subscribe(){return navigator.serviceWorker.getRegistration(m).then(e=>e.pushManager.subscribe({userVisibleOnly:!0}).then(e=>{var t={method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({subscription:e.toJSON()})};return fetch("/api/push/".concat(h,"/subscribe"),t)})).then(()=>{this.target.setAttribute(g,"subscribed")}).catch(()=>{this.target.setAttribute(g,"error")})}_unsubscribe(){return navigator.serviceWorker.getRegistration(m).then(e=>e.pushManager.getSubscription()).then(e=>e.unsubscribe().then(()=>{var t={method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({subscription:e.toJSON()})};return fetch("/api/push/".concat(h,"/unsubscribe"),t)})).then(()=>{this.target.setAttribute(g,"unsubscribed")}).catch(()=>{this.target.setAttribute(g,"error")})}updateButtonText(){switch(this.target.getAttribute(g)){case"subscribed":this.button.setAttribute("data-pushnotification-button","on"),this.button.innerText="通知しない";break;case"enable":case"unsubscribed":this.button.setAttribute("data-pushnotification-button","off"),this.button.innerText="通知する";break;default:this.button.removeAttribute("data-pushnotification-button"),this.button.setAttribute("disabled","true"),this.button.innerText="非対応"}}toggleStatus(e){var t=Promise.resolve();switch(this.target.getAttribute(g)){case"subscribed":t=this._unsubscribe();break;case"unsubscribed":t=this._subscribe();break;default:this.target.setAttribute(g,"error")}t.then(()=>this.updateButtonText()),e.stopPropagation()}remove(){this.target.parentNode.removeChild(this.target)}}var v=e=>{var t=document.getElementsByTagName("script")[0];if(document.querySelector('[src="'.concat(e,'"]')))return Promise.resolve(!1);var r=document.createElement("script");r.src=e;var n=new Promise((e,t)=>{r.addEventListener("load",()=>e(!0)),r.addEventListener("error",t)});return t.parentNode.insertBefore(r,t),n};class f{constructor(e,t){this._senderId=e,this._publicApiKey=t,this._swPath="/push-worker-v2.js",this._scope="/push",this._sdkUrl="https://www.gstatic.com/firebasejs/5.2.0/firebase.js"}register(){return u(this._swPath,this._scope,!1)}unsubscribe(){return this._sendRequest("unsubscribe")}subscribe(){return this._sendRequest("subscribe")}getSubscription(){return this._getRegistration().then(e=>e.pushManager.getSubscription())}_getRegistration(){return window.navigator.serviceWorker.getRegistration(this._scope)}_getFCMToken(){return this._getFCMInstance().then(e=>e.requestPermission().then(()=>e.getToken()))}_sendRequest(e){var t="/api/push/v2/ranking/".concat(e);return this._getFCMToken().then(r=>{var n={registrationToken:r};return fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(t=>t.ok?t.json():Promise.reject("Failed to ".concat(e,": ").concat(t.status," ").concat(t.statusText)))})}_getFCMInstance(){return"firebase"in window?Promise.resolve(window.firebase.messaging()):this._initFCMSDK()}_initFCMSDK(){return v(this._sdkUrl).then(()=>window.navigator.serviceWorker.ready).then(()=>this._getRegistration()).then(e=>{var t={messagingSenderId:this._senderId};window.firebase.initializeApp(t);var r=window.firebase.messaging();return r.usePublicVapidKey(this._publicApiKey),r.useServiceWorker(e),r})}}var b={sender:"data-pushnotification-sender-id",apiKey:"data-pushnotification-api-key",status:"data-pushnotification-status",button:"data-pushnotification-button"};class k{constructor(e){this.target=e.querySelector("[".concat(b.status,"]"));var t=e.querySelector("[".concat(b.sender,"]")).getAttribute(b.sender),r=e.querySelector("[".concat(b.apiKey,"]")).getAttribute(b.apiKey);this._push=new f(t,r),this.target&&(this.button=this.target.querySelector("[".concat(b.button,"]")),this.button.addEventListener("click",e=>this.toggleStatus(e),!1))}set status(e){this.target.setAttribute(b.status,e)}get status(){return this.target.getAttribute(b.status)}set buttonStatus(e){this.button.setAttribute(b.button,e)}get buttonStatus(){return this.button.getAttribute(b.button)}set buttonText(e){this.button.innerText=e}disableButton(){this.button.setAttribute("disabled","true")}enableButton(){this.button.removeAttribute("disabled")}isSupported(){return this.target?"serviceWorker"in navigator&&"undefined"!=typeof PushManager:(console.warn("subscription state was not found."),!1)}register(){return this._push.register().then(()=>(this.status="enable",this._push.getSubscription())).then(e=>{this.status=e?"subscribed":"unsubscribed",this.updateButtonText()})}_subscribe(){return this._push.subscribe().then(()=>{this.status="subscribed"}).catch(e=>{console.error(e),this.status="error"})}_unsubscribe(){return this._push.unsubscribe().then(()=>{this.status="unsubscribed"}).catch(e=>{console.error(e),this.status="error"})}updateButtonText(){switch(this.status){case"subscribed":this.buttonStatus="on",this.buttonText="通知しない";break;case"enable":case"unsubscribed":this.buttonStatus="off",this.buttonText="通知する";break;default:this.button.removeAttribute(b.button),this.disableButton(),this.buttonText="非対応"}}toggleStatus(e){this.disableButton(),(()=>{switch(this.status){case"subscribed":return this._unsubscribe();case"unsubscribed":return this._subscribe();default:return this.status="error",Promise.resolve()}})().then(()=>{this.updateButtonText(),this.enableButton()}),e.stopPropagation()}remove(){this.target.parentNode.removeChild(this.target)}}var y=[{name:"other",regex:/bot|googlebot|slurp|mediapartners|adsbot|silk|bingbot|google web preview|like firefox|chromeframe|seamonkey|opera mini|min|meego|netfront|moblin|maemo|arora|camino|flot|k-meleon|fennec|kazehakase|galeon|epiphany|rekonq|symbian|webos/,version:()=>0},{name:"ios",regex:/(iphone|ipad|ipod).*?os\s(\d+_\d+)/,version:e=>Number(e[2].split("_")[0])},{name:"android",regex:/android.(\d+\.\d+)/},{name:"edge",regex:/edge\/(\d+\.\d+)/},{name:"ie",regex:/msie.(\d+\.\d+)/,version:(e,t)=>{var r=Number(e[1]);if(7===r){var n=t.match(/trident.(\d+\.\d+)/);if(!n)return window.XDomainRequest?8:r;switch(Number(n[1])){case 7:return 11;case 6:return 10;case 5:return 9;case 4:return 8;default:return r}}return r}},{name:"ie",regex:/trident.(\d+\.\d+)/,version:e=>{var t=Number(e[1]);return t>6?11:t>5?10:t>4?9:t>3.1?8:t>3?7:9}},{name:"chrome",regex:/chrome.(\d+\.\d+)/},{name:"firefox",regex:/firefox.(\d+\.\d+)/},{name:"safari",regex:/version.(\d+.\d+).{0,10}safari/},{name:"safari",regex:/safari.(\d+)/,version:e=>{var t=Number(e[1]);return(t<100?1:t<130&&1.2)||t<320&&1.3||t<520&&2||t<524&&3||t<526&&3.2||4}},{name:"opera",regex:/opera.*version.(\d+\.?\d+)/},{name:"opera",regex:/opera.(\d+\.?\d+)/},{name:"netscape",regex:/netscape.(\d+)/}],w={init:()=>{l("raven.min.js",()=>{if(window.Raven){var e=document.documentElement.dataset.sentryDsn;if(e){var t=isEnhanced?["enhanced"]:["core"],r=(e=>{if(!e)return"unknown";var t=e.name,r=e.version,n=!1;switch(t){case"ie":n=r>=9;break;case"edge":n=r>=12;break;case"chrome":n=r>=49;break;case"firefox":n=r>=45;break;case"safari":n=r>=6.1;break;case"ios":n=r>=9;break;default:return"unknown"}return n?"supported":"unsupported"})((e=>{for(var t=e.toLowerCase(),r=y.length,n=0;n<r;n++){var a=y[n],i=t.match(a.regex);if(i)return{name:a.name,version:a.version?a.version(i,t):Number(i[1])}}return null})(navigator.userAgent));t.push(r),"unsupported"!==r&&window.Raven.config(e,{tags:{policy:t.join(" / ")},ignoreUrls:["https://r.nikkei.com"]}).install()}else console.info("Sentry DSN is not set")}else console.info("Sentry SDK is not loaded")})}},_=e=>{var t=e;return document.dispatchEvent(new CustomEvent("authInfoReceived",{detail:t})),e},E=e=>e&&e.user.nkOpt?(window.rnTrackVars.customObject={user_auth:{nk_opt:e.user.nkOpt}},e):e,S=e=>{var t=e?e.user:null;if(t&&t.isTrial){var r=t.trialInfo.find(e=>"DSR3"===e.level);r&&(r.trialMessage=t.trialMessage,Array.from(document.querySelectorAll('[data-component="rn-trial"]')).forEach(e=>{e.setAttribute("data-trial-info",JSON.stringify([r]))}))}},T=e=>{401===e.status&&(location.href="/login"),document.dispatchEvent(new CustomEvent("updatePageViewDateFinished")),console.error("Failed to check auth status",e)},A={init:()=>{"anonymous"!==document.documentElement.dataset.userRank&&(window.RNIKKEI_CDN_BASEURL&&window.RNIKKEI_CDN_BASEURL!==location.origin||a.get("/api/auth/v1/info",{},{credentials:"include"}).then(_).then(E).then(S).catch(T))}},O=(()=>{if("undefined"==typeof Storage&&!window.localStorage)return!1;var e=new Date,t=window.localStorage;try{if(t.setItem(e,e),t.getItem(e)!==e.toString())return!1;t.removeItem(e)}catch(e){return!1}return!0})()?window.localStorage:{length:null,key(){},setItem(){},getItem(){},removeItem(){},clear(){}},x=window.matchMedia("(display-mode: standalone)").matches||Boolean(navigator.standalone),L=()=>{(()=>{var e=document.cookie.split(";").find(e=>0===e.trim().indexOf("RNikkeiUserInfo="));if(!e)return"anonymous";var t=e.trim().split("=");return t.length<2?"anonymous":JSON.parse(atob(t[1])).ds_rank})()!==document.documentElement.dataset.userRank&&navigator.serviceWorker.controller.postMessage({type:"authentication-mismatch"})},M=window.rnFlags.enablePrecacheWorkerV2?"/precache-worker-v2.js":"/precache-worker.js",C={init:()=>u(M,"/").then(()=>{document.dispatchEvent(new CustomEvent("PrecacheWorker.initialized")),navigator.serviceWorker.addEventListener("message",e=>console.log(e)),navigator.serviceWorker.controller.postMessage({type:"init",params:{standalone:x}}),L()}).catch(console.log),destroy:()=>((e,t)=>"serviceWorker"in navigator?navigator.serviceWorker.getRegistration(t).then(r=>{return r?r.active.scriptURL.split("/").pop()!==e.split("/").pop()?Promise.reject("".concat(e," is not registered in '").concat(t,"'")):r.unregister().then(r=>{r?console.log("".concat(e," is successfully unregistered from '").concat(t,"'")):console.log("".concat(e," is not unregistered from '").concat(t,"'"))}):Promise.resolve()}):Promise.reject("Service Worker is not supported."))(M,"/"),getCachedArticleIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(t=>{if(!navigator.serviceWorker.controller)return t([]);var r=setTimeout(()=>(console.error("Request cached article list timedout."),t([])),e),n=e=>{if("cached-article-ids"===e.data.type)return clearTimeout(r),navigator.serviceWorker.removeEventListener("message",n),t(e.data.params)};navigator.serviceWorker.addEventListener("message",n),navigator.serviceWorker.controller.postMessage({type:"get-cached-article-ids"})})},sendPrecacheRequest:()=>navigator.serviceWorker.controller.postMessage({type:"precache-contents"}),purgeAllCaches:()=>{navigator.serviceWorker.controller.postMessage({type:"purge-caches"})}},I="nikkeiUserRank",N={check:()=>{if("serviceWorker"in navigator){var e=()=>{var e=document.documentElement.getAttribute("data-user-rank"),t=O.getItem(I);if(!t)return console.log("[LOGIN STATUS] Initialized",e),void O.setItem(I,e);t!==e&&("true"!==document.documentElement.dataset.isLoggedIn&&(console.log("[LOGIN STATUS] Seems to change, purge caches",t,e),C.purgeAllCaches()),O.setItem(I,e))};return navigator.serviceWorker.controller?e():document.addEventListener("PrecacheWorker.initialized",e)}}},P=()=>{var e=function(e){var t=document.createElement("span");return t.textContent=e,t};if(function(){var e=navigator.userAgent.toLowerCase();return!!/android [1234]/.test(e)&&(!/(firefox\/|edga\/|samsungbrowser\/)/.test(e)&&!/chrome\/[56789]/.test(e))}()){var t=document.cookie.split("; "),r=!1;t.forEach((function(e){-1!==e.indexOf("oldTLSBrowser=1")&&(r=!0)})),r||function(){var t,r=document.createElement("div");r.setAttribute("style","font-size:12px;color:gray;padding:4px 24px 4px 8px;background-color:#ddd;border-bottom:1px dotted #999;position:relative;"),r.appendChild(e("お使いのブラウザはページを正しく表示できない可能性があります。")),r.appendChild(((t=document.createElement("a")).setAttribute("href","https://play.google.com/store/apps/details?id=com.android.chrome"),t.setAttribute("style","font-weight:bold;color:#00629d"),t.textContent="最新のGoogle Chrome",t)),r.appendChild(e(" など、別のブラウザをご利用ください。")),r.appendChild(function(){var e=document.createElement("div");return e.textContent="+",e.setAttribute("style","position:absolute;top:4px;right:8px;font-size:20px;width:20px;height:20px;color:black;transform:rotate(-45deg);"),e.setAttribute("id","nikkei-old-tls-warning-close-button"),e}()),document.body.insertBefore(r,document.body.childNodes[0]),document.getElementById("nikkei-old-tls-warning-close-button").addEventListener("click",(function(){document.cookie="oldTLSBrowser=1; path=/; expires="+new Date(+new Date+12096e5),document.body.removeChild(r)}))}()}},j=r(1),D=r(8),z=r.n(D),R=r(9),q=r.n(R).a,H="[data-article-id][data-recommendation-reason]",B=(e,t)=>({k:e,t:t}),W=e=>{var t=e.dataset,r=t.articleId;return t.recommendationReason.trim().split(",").map(e=>B(r,parseInt(e,10)))},F=(e,t)=>{var r=t?Array.from(e.querySelectorAll(H)):[e];return(e=>({list:q.flatten(e)}))(r.length>0?r.map(W):[B("error","error")])},V=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=F(e,t);return{location:location.href,custom_value:r,adobe:{element:e,customValue:JSON.stringify(r)}}},J={activate:e=>{(e=>{var t=V(e);j.default.trackWithHugeValue("load","articles",["recommendation.list.load"],t)})(e),(e=>{new IntersectionObserver((e,t)=>{e.forEach(e=>{if(!1!==e.isIntersecting){var r=e.target,n=V(r);j.default.trackWithHugeValue("view","articles",["recommendation.list.view"],n),t.unobserve(r)}})}).observe(e)})(e),new z.a(document).on("click",H,e=>{var t=e.target.closest(H);if(t){var r=V(t,!1);j.default.trackWithHugeValue("click","article",["recommendation.list.click"],r)}},{capture:!0,passive:!0})}};class U{constructor(){this.setDefaultPrompt()}setDefaultPrompt(){window.addEventListener("beforeinstallprompt",e=>{this.sendPromptAnalytics(),this.sendAnalytics(e.userChoice)})}sendPromptAnalytics(){j.default.track("open","prompt",["A2HS"],{adobe:{element:null}})}sendAnalytics(e){return e.then(e=>("dismissed"!==e.outcome&&j.default.track("click","button",["A2HS"],{customValue:{platform:e.platform},adobe:{element:null}}),Promise.resolve()))}}var K=e=>e.split(":")[1],Y=()=>{var{kiteEnv:e}=document.documentElement.dataset,t=(e=>{var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null})("KiteMigrationFlags-".concat(e));if(t){var[r,n,a]=t.split(",");r=K(r),n=K(n),a=K(a),n="null"===n?"":n,j.default.setBeforeInit(()=>{j.default.setInitialData({customObject:{kiteIsMigrated:r,kiteOptMigration:n,kiteForceMigration:a}})})}},$={init:()=>{Y(),j.default.init(),(()=>{var e=(e,t)=>{j.default.track("click","button",[t],{adobe:e})},t=document.documentElement.getAttribute("data-service-name");document.addEventListener("nuiShare.overlayopen",r=>e(r.target,"".concat(t,":share_openoverlay"))),document.addEventListener("nuiShare.maillink",r=>e(r.target,"".concat(t,":share_maillink"))),document.addEventListener("nuiShare.copylink",r=>e(r.target,"".concat(t,":share_copylink"))),document.addEventListener("nuiShare.social",r=>e(r.target,"".concat(t,":share_").concat(r.detail.placement||"top","_").concat(r.detail.name)))})(),new U},tracking:j.default,activateRecommendSection:J.activate,sendRUMBeacon:()=>{var e={adobe:{element:document.body}};j.default.track("track","performance",["rum_beacon"],e)},setMigrationFlagsForTracking:Y},G=e=>{var t=new CustomEvent("rnikkeiEscape",{detail:{originalTarget:e?e.target:null}});document.dispatchEvent(t)},X=()=>{window.addEventListener("keydown",e=>{27===e.keyCode&&G()}),document.addEventListener("click",G),window.addEventListener("load",()=>{$.sendRUMBeacon()})},Z=()=>{var e=!1,t=document.querySelector("html"),r={capture:!0,passive:!0},n=()=>{e=!0,document.removeEventListener("touchstart",n,r)},a=()=>{document.removeEventListener("mousemove",a,r),e||(t.classList.add("mouse-optimized"),t.classList.remove("touch-optimized"),document.dispatchEvent(new CustomEvent("nuiMousePointerDetected")))},i=()=>{e=!1,document.removeEventListener("mouseup",i,r)};"ontouchstart"in document?t.classList.add("touch-optimized"):t.classList.add("mouse-optimized"),document.addEventListener("touchstart",n,r),document.addEventListener("mousemove",a,r),document.addEventListener("mouseup",i,r)},Q={init:()=>{var e=document.documentElement.getAttribute("data-service-name"),t="Nikkei-App-Version-Overrides=.*".concat(e,":([^;,]+)");console.log(t);var r=document.cookie.match(t);if(r){var n=r[1];document.querySelector(".k-header__head-logo").setAttribute("data-app-version",n)}}};var ee=[1945,6287,6771,6765,6767,6769,6771,7147,7149,2216,2217,2218,7168,9790,9791,9792,9793,9794,9795];function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ae=e=>Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length),ie=e=>{var{adId:t,sectionId:r,container:n}=e,a="".concat(t,"_").concat(r),i=document.createElement("script");i.type="text/javascript",i.innerText="\ntry {\n  window.TagProvider.displayAd('".concat(a,"');\n} catch (err) {\n  console.error(err);\n}\n  ").replace(/\n/g,"").trim();var o=document.createElement("div");if(o.id=a,o.appendChild(i),n.dataset.kadInread){var s=document.createElement("div");s.id="ADINREAD",n.appendChild(s)}n.appendChild(o)},oe=e=>{var{adId:t,sectionId:r,container:n,isSynthetic:a,isViewable:i}=e;if(!a){var o={sectionId:r,dmp:!0,sync:!1};i&&(o.viewable={slot:t,reload:0}),window.TagProvider.requestAds(o)}},se=[],ce=e=>{e.filter(e=>ae(e.container)&&!se.includes(e.container)).forEach(e=>{se.push(e.container),oe(e),ie(e)}),(e=>{var t,r=()=>{clearTimeout(t),t=void 0,e()};window.addEventListener("resize",()=>{t||(t=setTimeout(r,300))})})(()=>{e.filter(e=>ae(e.container)&&!se.includes(e.container)).forEach(e=>{se.push(e.container),oe(e),ie(e)})})},le=r(0),de=r.n(le),ue=e=>{var{href:t,title:r,excerpt:n,imageUrl:a,anchorTarget:i,hasTrackingScript:o}=e;return de()("a",{href:t,title:r,target:i,rel:"noopener"},de()("div",{class:"k-card k-card--small"},de()("div",{class:"k-card__content"},de()("figure",{class:"k-card__image"},de()("img",{src:a,alt:r})),de()("div",{class:"k-card__text"},de()("h2",{class:"k-card__title"},r),de()("div",{class:"k-card__meta"},n)),o&&"dangerouslySetInnerHTML")))},he=/nikkei:\/\/article\/.*?\/###AD###/,me=e=>he.test(e),ge=e=>e.replace(he,"");class pe{render(e){var t="_blank";e.body&&me(e.body)&&(e.body=ge(e.body),t="_parent");var r=Object.keys(e.key_values).length&&e.key_values.imp_tracking_tags_code;return{html:de()(ue,{href:e.image_click_url,title:e.header,excerpt:e.body,imageUrl:e.image_url,anchorTarget:t,hasTrackingScript:Boolean(r)}).replace("dangerouslySetInnerHTML",r),fitSize:!0}}}var ve=e=>{var{href:t,body:r}=e;return de()("a",{href:t,target:"_blank",rel:"noopener"},r)};class fe{render(e){return{html:de()(ve,{href:e.image_click_url,body:e.body}),fitSize:!0}}}var be={},ke=(e,t,r,n)=>{var a=Number(t),i=(e=>{if(!0===e.noad)return null;var t=e.creatives&&e.creatives.length?e.creatives.shift():e;return t&&!0!==(null==t?void 0:t.noad)?t:null})(isNaN(a)?((e,t)=>{var r=be[e]||0;return be[e]=r+1,t[r]})(r,n):n.find(e=>e.id===a));if(i){var o=i.hasOwnProperty("image_url")?new pe:new fe,{html:s}=o.render(i),c=document.createElement("div");c.innerHTML=s;var l=c.querySelector("img");l&&(i.width&&(l.width=i.width),i.height&&(l.height=i.height)),e.appendChild(c)}},ye={},we={},_e=e=>{e.forEach(e=>{((e,t)=>{var r=new IntersectionObserver(e=>{var[n]=e;n.isIntersecting&&(r.disconnect(),t())});r.observe(e)})(e.container,()=>{(e=>{var{adId:t,sectionId:r,container:n}=e,a=ye[r];a?ke(n,t,r,a):(we[r]||(we[r]=[]),we[r].push({adId:t,container:n}),window.TagProvider.requestAds({sectionId:r,dmp:!0,sync:!1,format:"jsonp_raw",handler:e=>{ye[r]=e,we[r].forEach(n=>{ke(n.container,t,r,e)})}}))})(e)})})},Ee=(e,t)=>{!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={DSR:window.rnTrackVars&&window.rnTrackVars.userRank||"",dp:"r"},r=document.querySelector('meta[name="x-f1h-custom-value"]'),n=null==r?void 0:r.getAttribute("content"),a={};if(n&&r)try{a=JSON.parse(n)}catch(e){console.error('Parsing `meta[name="x-f1h-custom-value"]` failed',e)}window.F1H_CUSTOM_KEY_VALUE=re({},t,{},a,{},e)}(t);var r=(e=>Array.prototype.map.call(e,e=>{var t=e.getAttribute("data-kad-id"),[r,n]=t?t.split("_").map(Number):[NaN,NaN];return{container:e,adId:r,sectionId:n,isSynthetic:ee.includes(n),isViewable:null!==e.getAttribute("data-kad-viewable")}}))(e);ce(r.filter(e=>!e.isSynthetic)),_e(r.filter(e=>e.isSynthetic))},Se="noModule"in document.createElement("script"),Te=e=>{var{targetRoot:t=document.body,customValues:r}=e;(()=>{var e="//partsa.nikkei.com/static/nkis/js/foneH.js",t=Boolean(document.querySelector('script[src*="'.concat(e,'"]')));if(t)return Promise.resolve(t);var r=document.createElement("script");return r.setAttribute("src",e),document.head.appendChild(r),new Promise((e,n)=>{r.addEventListener("load",()=>e(t)),r.addEventListener("error",n)})})().then(e=>{var n=t.querySelectorAll("div[data-kad]");!e&&Se?window.addEventListener("load",()=>Ee(n,r)):Ee(n,r)})},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"kiteLazyImageConfig";window[e]=window[e]||{},window[e].lazyClass="k-lazy-image",window[e].loadingClass="k-lazy-image--loading",window[e].loadedClass="k-lazy-image--loaded"},Oe=r(2),xe=r(5);class Le extends HTMLElement{connectedCallback(){var e=document.querySelector("[data-market-summary]");e&&(this.updateMarketSummary(e).catch(console.error),setInterval(()=>{this.updateMarketSummary(e).catch(console.error)},3e4))}updateMarketSummary(e){return this.fetchMarketSummary().then(t=>{e.innerHTML=t})}fetchMarketSummary(){return fetch("/api/top/v1/market-summary").then(e=>e.ok?e.text():Promise.reject("".concat(e.status,": ").concat(e.statusText)))}}var Me={"market-bar":Le},Ce="[data-headline]",Ie="data-reload-headline",Ne="k-card--headline",Pe="kite-video",je=6e5;class De extends HTMLElement{connectedCallback(){var e=document.querySelector(Ce);if(e){var t=e.dataset.dsrank;t&&["DSR2","DSR3"].includes(t)&&setInterval(()=>{this.updateHeadlineArticleWithoutAdvertise(e)},je)}}updateHeadlineArticleWithoutAdvertise(e){this.fetchHeadlineArticle().then(e=>{var t=(new DOMParser).parseFromString(e,"text/html").body.querySelector(Ce);if(!t)throw new Error("parse error:".concat(e));return this.getHeadlineArticleContainer(t)}).then(t=>{var[r,n]=t,[a,i]=this.getHeadlineArticleContainer(e);i.headlineTop&&n.headlineTop||i.headlineMiddleTopic&&n.headlineMiddleTopic||i.headlineBottomTopic&&n.headlineBottomTopic||this.replaceHeadlineArticle(a,r)}).catch(e=>console.log(e))}fetchHeadlineArticle(){return fetch("/.resources/top/top/sections/section-top-konshin",{credentials:"same-origin"}).then(e=>e.ok?e.text():Promise.reject("".concat(e.status,": ").concat(e.statusText)))}getHeadlineArticleContainer(e){var t=e.getElementsByClassName(Ie);if(0===t.length)throw new Error("element not exist");var[r,n,a,i,o]=Array.from(t),s=r&&r.getElementsByClassName(Ne);if(!s||!s.length)throw new Error("element not exist");var c=s[0],l=c&&c.getElementsByTagName(Pe),d=a&&a.getElementsByTagName(Pe),u=o&&o.getElementsByTagName(Pe);return[{headlineTop:c,headlineMiddle:n,headlineMiddleTopic:a,headlineBottom:i,headlineBottomTopic:o},{headlineTop:Boolean(l.length),headlineMiddleTopic:Boolean(d.length),headlineBottomTopic:Boolean(u.length)}]}replaceHeadlineArticle(e,t){for(var r in e)e[r]&&t[r]&&t[r].innerHTML&&(e[r].innerHTML=t[r].innerHTML)}}var ze={"kite-headline":De},Re="300px";class qe extends HTMLElement{connectedCallback(){var{sectionId:e,pageId:t,sectionOrder:r}=this.dataset;if(e&&t&&r){var n=new IntersectionObserver(a=>{a.every(e=>e.isIntersecting)&&(n.disconnect(this),this.load(t,e).then(()=>this.updateURL(r)).catch(r=>{console.warn("Failed to load section. ".concat(t,":").concat(e),r),this.remove()}))},{rootMargin:Re});n.observe(this)}else console.warn("data-section-id, data-page-id, data-section-order are required.")}updateURL(e){var t=new URL(location.href),r=parseInt(t.searchParams.get("l"),10)||0,n=Math.max(r,e);n&&(t.searchParams.set("l",n),history.replaceState({},document.title,t.toString()))}load(e,t){var r=location.search.match(/k=[^&]+/),n=r?"?".concat(r[0]):"";return fetch("/.resources/top/".concat(e,"/sections/").concat(t).concat(n),{credentials:"include"}).then(e=>e.ok?e.text():Promise.reject("".concat(e.status,": ").concat(e.statusText))).then(e=>{var t=(new DOMParser).parseFromString(e,"text/html"),r=t.body.hasChildNodes()?t.body.firstChild:"";this.replaceWith(r),Te({targetRoot:r})})}}var He={"kite-hub-section-placeholder":qe};function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ve extends HTMLElement{connectedCallback(){this._testId=this.getAttribute("data-pattern-test-id"),this._articleId=this.getAttribute("data-article-id"),this._props=this.getAttribute("data-props"),this._card=this.querySelector('[class^="k-card"]'),this._card?(this._meta={title:this.getAttribute("data-title"),title2:this.getAttribute("data-title2"),order:this.getAttribute("data-order")},this._loadPattern(this._testId,this._articleId).catch(e=>this._onError(e)).then(()=>this._finalize())):console.warn("[PatternTest] card is not found")}_fetchContent(e,t){var r=this.getAttribute("data-card-size"),n="/api/top/v1/article-pattern/".concat(t),a="?test-id=".concat(this._testId,"&card-size=").concat(r),i="".concat(n).concat(a);return fetch(i).then(e=>e.ok?e.json():Promise.reject("[PatternTest] Failed to fetch pattern (".concat(e.status,": ").concat(e.statusText,")")))}_merge(e,t){return[".k-card__title-link",".k-card__excerpt",".k-picture"].forEach(r=>{var n=Array.from(t.querySelectorAll(r)),a=Array.from(e.querySelectorAll(r));n.length===a.length?n.forEach((e,t)=>{a[t].replaceWith(e)}):console.warn("[PatternTest] new elment has different structure from old one",n,a)}),e}_loadPattern(e,t){return this.getAttribute("data-pattern-loaded")?Promise.resolve():this._fetchContent(e,t).then(t=>{var r=this._card.outerHTML,n=(new DOMParser).parseFromString(t.html,"text/html").body.firstChild,a=(new DOMParser).parseFromString(r,"text/html").body.firstChild,i=this._merge(a,n),o=this._getTrackingAttributes(e,t.patternId,t.title,t.title2);Object.keys(o).forEach(e=>i.setAttribute(e,o[e])),this._card.replaceWith(i),this._card=i})}_finalize(){var e=this.querySelector(".k-card--ghost");e&&e.classList.remove("k-card--ghost"),this.setAttribute("data-pattern-loaded",!0)}_onError(e){console.error(e),this.setAttribute("data-pattern-error",!0)}_getTrackingAttributes(e,t,r,n){var a={pattern_id:t,test_id:e,title:r,title2:n,order:this._meta.order},i=JSON.parse(this._card.getAttribute("data-rn-inview-track-value")),o=JSON.parse(this._card.getAttribute("data-rn-track-value"));return{"data-rn-inview-track":this._articleId,"data-rn-inview-track-value":JSON.stringify(We({},i,{},a)),"data-rn-track":this._articleId,"data-rn-track-value":JSON.stringify(We({},o,{},a))}}}var Je={"kite-hub-pattern-test":Ve};class Ue extends HTMLElement{connectedCallback(){var e=new IntersectionObserver(t=>{t.some(e=>e.isIntersecting)&&(this.querySelector("[data-tracking]").innerHTML=this.getAttribute("data-tracking-html"),e.disconnect())});e.observe(this)}}var Ke=(e,t)=>de()("div",{class:"k-hub-layout__column k-hub-trendwatch k-hub-trendwatch--".concat(t)},de()("h3",{class:"k-hub-section-title"},de()("span",null,e.heading)),de()("ul",null,e.creatives.map(e=>de()("kite-trendwatch-creative",{class:"k-hub-trendwatch__item","data-tracking-html":e.tracking_html},de()("a",{href:e.image_click_url,target:"_blank",rel:"noopener"},e.body),de()("div",{style:"display: none;","data-tracking":!0}))))),Ye=e=>fetch(e).then(e=>e.ok?e.json():Promise.reject("Failed to get trendwatch. ".concat(e.status,": ").concat(e.statusText))),$e=["latest","business","life","living"];class Ge extends HTMLElement{render(e){var t=$e.map(t=>e[t]);this.innerHTML=de()("div",{class:"k-hub-trendwatch-wrapper"},t.map(e=>Ke(e,this.type)))}connectedCallback(){if(this.type=this.getAttribute("data-type"),["desktop","mobile","tablet"].includes(this.type)){var e=new IntersectionObserver(t=>{t.some(e=>e.isIntersecting)&&(Ye("/api/mainos/v4/trendwatch?device=".concat(this.type)).then(this.render.bind(this)),e.disconnect())});e.observe(this)}else console.error("Invalid trendwatch type: ".concat(type))}}var Xe={"kite-trendwatch":Ge,"kite-trendwatch-creative":Ue};class Ze extends HTMLElement{connectedCallback(){/PTST/.test(navigator.userAgentr)||(this.modalCheckbox=this.querySelector(".k-hub-nar__checkbox-input"),this.narModal=this.querySelector(".k-hub-nar__modal"),this.overlayInner=document.querySelector(".k-overlay__inner"),this.initialize())}initialize(){this.setNarModalStorage(),this.hideModalOnMobile()}setNarModalStorage(){this.checkNarModalCondition(),this.modalCheckbox.addEventListener("change",()=>{window.localStorage.setItem("hasNarModal",!this.modalCheckbox.checked)})}checkNarModalCondition(){"false"!==window.localStorage.getItem("hasNarModal")&&"ja"!==window.navigator.language.substr(0,2).toLowerCase()&&window.innerWidth>751&&"false"===document.documentElement.dataset.isPrivacyActive&&(window.localStorage.setItem("hasNarModal","false"),this.narModal.click())}hideModalOnMobile(){window.matchMedia("(max-width:752px)").addListener(e=>{e.matches&&this.overlayInner.click()})}}var Qe={"kite-nar-notification":Ze};class et extends HTMLElement{connectedCallback(){this.initialize()}initialize(){var e=this.querySelector("[data-privacy-close-button]"),t=window.localStorage.getItem("disablePrivacy");if((e&&e.addEventListener("click",()=>{var e=(new Date).toISOString();document.documentElement.dataset.isPrivacyActive="false",window.localStorage.setItem("disablePrivacy","".concat(e)),this.classList.remove("k-privacy--show")}),t)&&(new Date).getTime()-Date.parse(t)<=7776e6)return;this.classList.add("k-privacy--show"),document.documentElement.dataset.isPrivacyActive="true"}}var tt={"kite-privacy-notification":et},rt={"www.nikkei.com":"r.nikkei.com","www.pre7.nikkei.com":"next-dev.nikkei.com","room323.nikkei.com":"next-staging.nikkei.com"},nt={"r.nikkei.com":"www.nikkei.com","next-dev.nikkei.com":"www.pre7.nikkei.com","next-staging.nikkei.com":"room323.nikkei.com"},at={enter:13,up:38,down:40},it={monthly:"今月",weekly:"今週",daily:"本日"},ot={monthly:"月",weekly:"週",daily:"毎日"},st=e=>4===e.length&&!isNaN(Number(e)),ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then(e=>e.ok?e.json():Promise.reject("".concat(e.status,": ").concat(e.statusText))).catch(e=>(console.warn("Failed to get update notifications.",e),{}))};class lt extends HTMLElement{connectedCallback(){this.activeIdx=0,this.input=this.querySelector("input"),this.form=this.querySelector("form"),this.origActions=Array.from(this.querySelectorAll("[data-k-header-search-action]")),this.currentActions=this.origActions.slice(),this.select(0),this.input.addEventListener("input",this.onInput.bind(this)),this.addEventListener("keydown",this.onKeyDown.bind(this)),this.origActions.forEach(e=>{e.addEventListener("mouseover",()=>{var t=Array.from(this.querySelectorAll("[data-k-header-search-action]")).indexOf(e);this.select(t)})})}select(e){this.currentActions.forEach(e=>e.setAttribute("aria-selected","false")),this.activeIdx=e,this.currentActions[this.activeIdx].setAttribute("aria-selected","true")}updateLink(e,t){var r=e.getAttribute("data-k-header-search-query"),n=e.getAttribute("href").split("?")[0];e.setAttribute("href","".concat(n,"?").concat(r,"=").concat(encodeURIComponent(t)))}onKeyDown(e){if(e.keyCode===at.up)this.select(Math.max(0,this.activeIdx-1));else if(e.keyCode===at.down)this.select(Math.min(this.currentActions.length-1,this.activeIdx+1));else{if(e.keyCode!==at.enter||e.repeat)return;location.href=this.currentActions[this.activeIdx].getAttribute("href")}e.preventDefault(),e.stopPropagation()}onInput(){var e=0===this.input.value.length,t=st(this.input.value);this.form.classList[e?"add":"remove"]("k-header-nav__search--empty");var r=this.origActions.slice().reverse();this.currentActions=t?r:this.origActions,this.currentActions.forEach(e=>e.parentElement.appendChild(e)),this.select(0),this.currentActions.forEach(e=>this.updateLink(e,this.input.value))}}class dt extends HTMLElement{fetchUpdate(){var e=nt[window.location.host]||window.location.host,t=[ct("/api/update-notification/v1/updates",{credentials:"include"}),ct("https://"+e+"/dx/async/async.do/?BALLOON_DISP_FLG=1&ae=JO_CM_JWTIMELINENOTICE&sv=NX&JSON=true",{credentials:"include"})],r=document.cookie.includes("KiteHeaderDisableMyNewsNotification=1");return Promise.all(t).then(e=>{var[t,n]=e,{isMyNewsUpdated:a,isNKDUpdated:i}=t;return{nkd:i,"jinji-watch":n.count>0,mynews:!r&&a}})}setBadge(e,t){var r=this.querySelector('[data-k-badge="'.concat(e,'"] .k-badge'));r?r.classList.toggle("k-badge--visible",t):console.warn("Badge is not found. (".concat(e,")"))}onAccountNoticeUpdated(e){var t=document.querySelector('[data-k-rtoaster-type="accountNotice"]');t&&t.addEventListener("k-header.rtoasterAccountNotice.updated",e)}connectedCallback(){this.fetchUpdate().then(e=>{Object.keys(e).forEach(t=>{this.setBadge(t,Boolean(e[t]))})}),this.onAccountNoticeUpdated(()=>{this.setBadge("account-notice",!0)})}}class ut extends HTMLElement{onOpened(){fetch("/api/limitation/v1/limitation",{credentials:"same-origin",headers:{pragma:"no-cache","cache-control":"no-cache"}}).then(e=>e.ok?e.json():Promise.reject("".concat(e.status,": ").concat(e.statusText))).then(e=>{var t=this.querySelector("[data-k-header-account-limitation-current]"),r=this.querySelector("[data-k-header-account-limitation-consumed]"),n=this.querySelector("[data-k-header-account-limitation-interval]"),a=this.querySelector("[data-k-header-account-limitation-total]"),{interval:i,remaining:o,articles:{length:s}}=e;t&&(t.innerText=it[i]),r&&(r.innerText=s.toString()),n&&(n.innerText=ot[i]),a&&(a.innerText=(s+o).toString())}).catch(e=>{console.error("Failed to fetch limitation",e)})}connectedCallback(){var e=this.querySelector("[data-k-dropdown-status]");e&&e.addEventListener("change",()=>{e.checked&&this.onOpened()})}}class ht extends HTMLElement{connectedCallback(){this.tabIndex=0,this.addEventListener("touchend",e=>{var t=window.matchMedia("(min-width: 980px)").matches;document.activeElement!==this&&t&&(this.focus(),e.preventDefault())})}}class mt extends HTMLElement{connectedCallback(){this.addEventListener("click",e=>{var t=rt[location.hostname]||location.hostname,r="https://".concat(t,"/paper"),n=window.open(r,"ShimenViewer","width=".concat(1200,", height=").concat(860,", alwaysRaised=yes,dependent=yes,directories=no,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,toolbar=no"));n?(n.focus(),e.preventDefault(),e.stopPropagation()):console.warn("Failed to open viewer.")})}}var gt={"kite-header-search":lt,"kite-header-badge-data-provider":dt,"kite-header-account-nav":ut,"kite-header-viewer-button":mt,"kite-header-nav-item":ht},pt=r(3),vt="".concat(location.host,"/.resources/k-components"),ft=!1,bt={resolve:(e,t)=>{var r="".concat(e,"/assets/").concat(t);return ft?"../components/".concat(r):r in pt?"".concat(vt,"/").concat(pt[r]):"".concat(vt,"/").concat(r)},useLocal:()=>{ft=!0}},{tracking:kt}=r(1);class yt extends HTMLElement{constructor(){super(),this.isMessageListen=!1}connectedCallback(){this.init();var e=document.querySelectorAll(".k-rtoaster__avoid");if("campaign"===this.dataset.kRtoasterType&&e.length){var t=new IntersectionObserver(e=>{if(!e.every(e=>!e.isIntersecting))return this.classList.add("k-rtoaster__visuallyhidden");this.classList.remove("k-rtoaster__visuallyhidden")});Array.prototype.forEach.call(e,e=>t.observe(e))}}init(){var e={elementId:this.getAttribute("data-k-rtoaster-element-id")||"",kRtoasterEnableSerialIdTracking:Boolean(this.dataset.kRtoasterEnableSerialIdTracking)};this.createIframe(e)}createIframe(e){var t=bt.resolve("rtoaster","rtoaster-view.html"),r=new URL("".concat(location.protocol,"//").concat(t));r.searchParams.append("data",window.btoa(JSON.stringify(e)));var n=document.createElement("iframe"),a="k-rtoaster-element-".concat(e.elementId);n.setAttribute("id",a),n.setAttribute("title","iframe-".concat(a)),n.setAttribute("name",a),n.classList.add("k-rtoaster__container"),n.classList.add("k-rtoaster__visuallyhidden"),n.setAttribute("scrolling","no"),n.setAttribute("frameborder","0"),n.src=r.toString();var i=document.createElement("div");i.classList.add("k-rtoaster__item"),i.classList.add("k-rtoaster__visuallyhidden"),i.appendChild(n),this.appendChild(i),this.isMessageListen||(window.addEventListener("message",this.actionMainWindow),this.isMessageListen=!0)}actionMainWindow(e){if(e.data&&e.data.id&&e.data.action&&e.data.action.startsWith("k-rtoaster")&&e.origin==="".concat(location.protocol,"//").concat(location.host)){var t=document.getElementById(e.data.id);if(!t)throw console.error(e),Error("[k-rtoaster] Failed to find target. id: ".concat(e.data.id,". raw: ").concat(JSON.stringify(e)));if(t.parentNode&&t.parentNode.parentNode&&"true"!==document.documentElement.dataset.isPrivacyActive){var r=t.parentNode,n=r.parentNode;switch(e.data.action){case"k-rtoaster.resizeParent":return void(r.style.height=n.style.height="".concat(e.data.height,"px"));case"k-rtoaster.appearParent":return t.classList.remove("k-rtoaster__visuallyhidden"),r.classList.remove("k-rtoaster__visuallyhidden"),n.classList.add("is-shown"),void("k-rtoaster-element-rcmd_kite_account_notice"===e.data.id&&n.dispatchEvent(new Event("k-header.rtoasterAccountNotice.updated")));case"k-rtoaster.dismiss":return n.classList.add("k-rtoaster--hidden"),void("k-rtoaster-element-accountNotice"===e.data.id&&this.dispatchEvent(new CustomEvent("k-header.rtoasterAccountNotice.updated")));case"k-rtoaster.track":kt.track(e.data.track.action,e.data.track.category,e.data.track.eventNames,{customVars:e.data.track.customVars||null});break;default:return void console.debug("[k-rtoaster] event.data.action is invalid","target ID is ".concat(t," and action is ").concat(e.data.action))}}}}}var wt={"kite-rtoaster":yt};function _t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class St extends HTMLElement{getTrialInfo(){return fetch("/api/auth/v1/info",{credentials:"include"}).then(e=>e.ok?e.json():Promise.reject("Failed to get auth info. ".concat(e.status,": ").concat(e.statusText))).then(e=>{if(!e.user)return null;var t=e.user.trialInfo.find(e=>"DSR3"===e.level);return t?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(r),!0).forEach((function(t){Et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{message:t.message?t.message.message:e.user.trialMessage.message,expiredMessage:t.message?t.message.expiredMessage:e.user.trialMessage.message,link:t.message?t.message.url:e.user.trialMessage.url}):null})}isExpired(e){return new Date(e).getTime()-Date.now()<0}createMessageHTML(e){if(this.isExpired(e.expirationDate))return e.expiredMessage.split("\n").map(e=>"<span>".concat(e,"</span>")).join("");var t=this.getRemainingDate(e.expirationDate).toString();return e.message.replace("%D",'<span class="k-trial__remaining">'.concat(t,"</span>")).split("\n").map(e=>"<span>".concat(e,"</span>")).join("")}getRemainingDate(e){var t=new Date(e).getTime()-Date.now();return Math.ceil(t/864e5)}connectedCallback(){this.getTrialInfo().then(e=>{if(e){this.classList.add("k-trial--visible");var t=document.querySelector("[data-k-trial-text]"),r=document.querySelector("[data-k-trial-link]");t&&r&&(t.innerHTML=this.createMessageHTML(e),r.setAttribute("href",e.link))}})}}var Tt={"kite-trial-banner":St};function At(e,t){if(t.length<e)throw new TypeError(e+" argument"+e>1?"s":" required, but only "+t.length+" present")}function Ot(e){At(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}var xt=36e5;function Lt(e,t){At(2,arguments);var r=function(e,t){At(2,arguments);var r=Ot(e),n=Ot(t);return r.getTime()-n.getTime()}(e,t)/xt;return r>0?Math.floor(r):Math.ceil(r)}function Mt(e,t){At(2,arguments);var r=Ot(e),n=Ot(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Ct(e,t){At(2,arguments);var r=Ot(e),n=Ot(t),a=Mt(r,n),i=Math.abs(function(e,t){At(2,arguments);var r=Ot(e),n=Ot(t);return r.getFullYear()-n.getFullYear()}(r,n));r.setFullYear(r.getFullYear()-a*i);var o=a*(i-(Mt(r,n)===-a));return 0===o?0:o}function It(e){At(1,arguments);var t=Ot(e);return t.setHours(0,0,0,0),t}function Nt(e,t){At(2,arguments);var r=It(e),n=It(t);return r.getTime()===n.getTime()}function Pt(e,t){At(2,arguments);var r=Ot(e),n=Ot(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function jt(e,t){At(2,arguments);var r=Ot(e),n=Ot(t);return r.getFullYear()===n.getFullYear()}var Dt=(e,t)=>Math.abs(Lt(e,t))<4,zt=(e,t)=>Math.abs(Lt(e,t))<24,Rt=(e,t)=>11===function(e){return At(1,arguments),Ot(e).getMonth()}(t)&&0===Math.abs(Ct(e,t)),qt={TIME:2,DAY:4,MONTH:8,YEAR:16},Ht=540,Bt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r?qt.TIME:0;return Nt(t,e)?qt.TIME:zt(t,e)?qt.DAY|qt.TIME:Pt(t,e)?qt.DAY|n:jt(t,e)||Rt(t,e)?qt.MONTH|qt.DAY|n:qt.YEAR|qt.MONTH|qt.DAY|n},Wt=(e,t)=>{var r=[];return t&qt.YEAR&&r.push(e.getFullYear()+"年"),t&qt.MONTH&&r.push(e.getMonth()+1+"月"),t&qt.DAY&&r.push(e.getDate()+"日"),t&qt.TIME&&r.push(" ",e.getHours()+":",((e,t,r)=>{if(e.padStart)return e.padStart(t,r);for(;e.length<t;)e=r+e;return e})(e.getMinutes().toString(),2,"0")),r.join("")};class Ft{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;this.datetime=Ft.absorbTimezone(e),this.base=Ft.absorbTimezone(t),this.isValid=!isNaN(this.datetime.getTime())&&!isNaN(this.base.getTime())}format(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isValid?Wt(this.datetime,Bt(this.datetime,this.base,e)):null}isRecent(){return this.isValid&&Dt(this.datetime,this.base)}static absorbTimezone(e){return!e||isNaN(e.getTime())?new Date(NaN):new Date(e.getTime()+1e3*(Ht+e.getTimezoneOffset())*60)}}var Vt=6e4;class Jt extends HTMLElement{update(){var e=location.search.match(/k=[^&]+/),t=e?"?".concat(e[0]):"";return fetch("/api/breaking-news/v1/news".concat(t),{credentials:"same-origin"}).then(e=>e.ok?e.json():Promise.reject("".concat(e.status,": ").concat(e.statusText))).then(e=>{if(e.title){this.classList.remove("k-breaking-news--hide");var t=this.querySelector("[data-k-breaking-news-text]"),r=this.querySelector("[data-k-breaking-news-time]");if(t.innerHTML=e.title,t.className="",t.classList.add("k-breaking-news__text","k-breaking-news__text--".concat(e.fontsize)),e.datetime){var n=new Date(e.datetime);r.innerHTML=new Ft(n).format()||"",r.classList.remove("k-breaking-news__time--hide")}else r.classList.add("k-breaking-news__time--hide")}else this.classList.add("k-breaking-news--hide")})}connectedCallback(){this.timer=window.setInterval(()=>this.update(),Vt)}disconnectedCallback(){clearInterval(this.timer)}}var Ut={"kite-breaking-news":Jt};class Kt extends HTMLElement{connectedCallback(){this.addEventListener("lazyloaded",e=>{var t=e.target.classList.contains("ls-is-cached");this.classList.remove("k-picture--lazyload"),this.classList.add("k-picture--lazyloaded"),t&&this.classList.add("k-picture--cached")})}}var Yt={"kite-picture":Kt};class $t extends HTMLElement{connectedCallback(){this.videoContent=this.querySelector("iframe"),this.activateAutoPlay()}activateAutoPlay(){/iPhone|iPod|Android/.test(window.navigator.userAgent)||!this.videoContent.src||/&autoplay=muted/.test(this.videoContent.src)||(this.videoContent.src="".concat(this.videoContent.src,"&autoplay=muted"))}}var Gt={"kite-video":$t};class Xt extends HTMLElement{constructor(){super()}connectedCallback(){var e=document.querySelector("[data-feedback-notification]");e&&new IntersectionObserver((t,n)=>{t.some(e=>e.isIntersecting)&&(r.e(1).then(r.bind(null,15)).then(e=>{new(0,e.default)(this)}),n.unobserve(e))},{threshold:1}).observe(e)}}var Zt={"kite-feedback":Xt};class Qt extends HTMLElement{connectedCallback(){var{datetime:e,base:t}=this.dataset;if(e){var r=new Date(Number(e));this.datetime=t?new Ft(r,new Date(Number(t))):new Ft(r),this.render()}}render(){this.datetime.isRecent()&&this.classList.add("k-date--recent")}}var er={"kite-date":Qt},tr=e=>!!e&&e instanceof HTMLElement,rr=(e,t)=>{if(tr(e))return e;throw new Error(t)};class nr extends HTMLElement{constructor(){super(),this.cloned=null,this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.onClickOverlay=this.onClickOverlay.bind(this),this.existShowTrigger=!1,this.existHideTrigger=!1}get hideTrigger(){return rr(this.cloned.parentElement.querySelector(this.dataset.hide),this.dataset.hide)}connectedCallback(){this.root=rr(document.querySelector("[data-is-overlay-active]"),"[data-is-overlay-active]"),this.overlay=rr(document.querySelector(".k-overlay"),".k-overlay"),this.overlayInner=rr(this.overlay.querySelector(".k-overlay__inner"),".k-overlay__inner"),this.template=rr(this.querySelector(".k-light-box__inner"),".k-light-box__inner"),this.existShowTrigger=tr(document.querySelector(this.dataset.show)),this.existHideTrigger=tr(document.querySelector(this.dataset.hide)),this.existShowTrigger&&(this.showTrigger=rr(document.querySelector(this.dataset.show),this.dataset.show),this.showTrigger.addEventListener("click",this.show)),this.overlayInner.addEventListener("click",this.onClickOverlay)}diconnectedCallback(){this.showTrigger.removeEventListener("click",this.show),this.overlayInner.removeEventListener("click",this.onClickOverlay)}onClickOverlay(e){var{target:t}=e;t===this.overlayInner&&this.hide()}show(){this.cloned=this.template.cloneNode(!0),this.overlayInner.appendChild(this.cloned),this.dataset.hide&&this.existHideTrigger&&this.hideTrigger.addEventListener("click",this.hide),this.root.dataset.isOverlayActive="true",this.overlay.classList.add("is-active")}hide(){this.root.dataset.isOverlayActive="false",this.overlay.classList.remove("is-active"),this.cloned&&(this.overlayInner.innerHTML="")}}var ar={"kite-light-box":nr};function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(()=>{if(window.rnFlags.segmentAPI)try{o(),s().catch(console.log)}catch(e){console.log(e)}})(),d(()=>{Z(),w.init(),X(),d(()=>{Q.init(),A.init(),$.init(),N.check(),P(),!1===window.rnFlags.serviceworkerPrecache||!window.location.host.includes("localhost")&&"r.nikkei.com"!==window.location.host?C.destroy().catch(console.error):C.init().catch(console.error);var e=window.rnFlags.enablePushWorkerV2?new k(document):new p(document);e.target&&(e.isSupported()?e.register().catch(console.error):e.remove())}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"kiteLazyImageConfig";Ae(e),Object(Oe.lazySizes)(e),Object(xe.a)()}(),Te({customValues:{video:Boolean(document.querySelector("[data-has-video-on-top-article=true]"))}}),"customElements"in window&&(e=>Object.keys(e).forEach(t=>{customElements.define(t,e[t])}))(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},tt,{},gt,{},wt,{},Tt,{},Ut,{},Xe,{},He,{},er,{},Yt,{},Gt,{},Zt,{},ar,{},Je,{},Me,{},Qe,{},ze)),document.addEventListener("PrecacheWorker.initialized",()=>{"true"===document.documentElement.dataset.isLoggedIn&&C.sendPrecacheRequest()})})}]);